# Битые ссылки

API методы для работы с битыми ссылками.

## Методы

| Метод | Эндпоинт | Scope |
|-------|----------|-------|
| Список битых ссылок | `GET /broken_links/` | `broken_links` |
| Решить проблему | `POST /broken_links/resolve/` | `manage_broken_links` |

## Список битых ссылок

```
GET https://api.admitad.com/broken_links/
```

### Параметры

| Параметр | Описание |
|----------|----------|
| `limit` | Количество записей |
| `offset` | Смещение |
| `website` | ID площадки |
| `campaign` | ID программы |
| `search` | Поиск по URL |
| `reason` | Код причины ошибки |
| `start_date` | Начало периода |
| `end_date` | Конец периода |

### Коды причин (reason)

| Код | Описание |
|:---:|----------|
| 0 | Программа приостановлена |
| 1 | Нет партнёрства |
| 2 | Материал удалён |

### Поля ответа

| Поле | Описание |
|------|----------|
| `id` | ID битой ссылки |
| `website` | Данные площадки |
| `campaign` | Данные программы |
| `clicks` | Количество кликов |
| `err_reason` | Код причины |
| `click_link` | Битая ссылка |
| `ref_link` | URL реферера |
| `datetime` | Время последнего клика |

### Пример запроса

```bash
curl -H 'Authorization: Bearer access_token' \
  https://api.admitad.com/broken_links/?limit=2
```

## Решить проблему

```
POST https://api.admitad.com/broken_links/resolve/
```

### Параметры

| Параметр | Описание |
|----------|----------|
| `link_id` | ID битой ссылки (можно несколько) |

### Пример ответа

```json
{
  "resolved": [123, 456]
}
```
